= asciidoc-link-check
Checks if all hyperlinks in an asciidoc file are alive(or dead).

(Uses the source code from https://github.com/tcort/markdown-link-check[markdown-link-check] module)

++++
<a href="https://asciinema.org/a/TsMPXxqz92aJIeYhUQTsxbpjn?autoplay=1"><img src="https://asciinema.org/a/TsMPXxqz92aJIeYhUQTsxbpjn.png" width="600"/></a>
++++

== Local Installation
To install the command line tool, run:
[source, bash]
----
npm install -g asciidoc-link-check
----

=== Usage
(Optional) Use the `-p` or `--progress` switch to view progress.

==== Check links for a local file
[source,bash]
----
asciidoc-link-check README.adoc --progress
----

==== Check links for an online file
[source,bash]
----
asciidoc-link-check https://github.com/gaurav-nelson/asciidoc-link-check/blob/master/README.adoc
----

==== Check links from standard input
[source,bash]
----
cat <filename>.adoc | asciidoc-link-check -p
----

==== Check links in all asciidoc files in a directory

Check recursively in the current directory:
[source,bash]
----
find . -name \*.adoc -exec asciidoc-link-check -p {} \;
----

Check recursively in the other directories:
[source,bash]
----
find <directory> -name \*.adoc -exec asciidoc-link-check -p {} \;
----

=== Using in your node project
To add the module to your project, run:
[source, bash]
----
npm install --save asciidoc-link-check
----

== API
Use the following function:

[source, javascript]
----
asciidocLinkCheck(asciidoc, callback)
----
Accepts a string containing `asciidoc` formatted text and a `callback`, extracts all links and checks if they are alive or dead. Then calls the `callback` with `(err, results)`.

== Examples
=== JavaScript
[source,javascript]
----
'use strict';

var asciidocLinkCheck = require('asciidoc-link-check');

asciidocLinkCheck('xref:https://www.google.com[Google]', function (err, results) {
    if (err) {
        console.error('Error', err);
        return;
    }
    results.forEach(function (result) {
        console.log('%s is %s', result.link, result.status);
    });
});
----
